<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Pokédex</title>
    <!-- Import Styles -->
    <link rel="stylesheet" href="./assets/styles.css" />
    <link href="http://fonts.cdnfonts.com/css/pokemon-solid" rel="stylesheet">
    <link href="http://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
    <!-- Import Vue.js -->
    <script src="https://unpkg.com/pokeapi-js-wrapper/dist/index.js"></script>
    <script src="https://unpkg.com/vue@3"></script>
  </head>
  <body>
    <div id="app" @details-showing="swapDisplay">
      <header>
        <div id="head1">
          <img src="./assets/media/pokeball.png" alt="pokéball" class="logo">
        </div>
        <div id="head2">
          <img src="./assets/media/pokedex.svg" alt="pokédex" class="titleLog">
        </div>
      </header>
      <div class="searchDiv">
        <h2 id="searchTitle">Nom ou ID du Pokémon : </h2>
        <div id="searchBar">
          <input type="text" id="searchField" placeholder="Recherchez un Pokémon...">
          <img src="./assets/media/search.png" id="searchLogo" class="button" alt="searchLogo">
        </div>
      </div>
      <list-pokemon v-if="!showDetails" :list="pokemons"></list-pokemon>
      <pokemon-detail v-if="showDetails" @show-details="showPokemon"></pokemon-detail>
      <footer>
      <p>©2022 意志 - Ishi.</p>
      <p>IG3 - 2021/2022</p>
      </footer>
    </div>

    <!-- Import Pokedex -->
    <script>
      const P = new Pokedex.Pokedex()
    </script>

    <!-- Import App -->
    <script src="./main.js"></script>

    <!-- Import Components -->
    <script src="./components/Detail.js"></script>
    <script src="./components/PokemonList.js"></script>
    <script src="./components/Pokemon.js"></script>

    <!-- Mount App -->
    <script>
      const interval = {offset : 0, limit : 10}
      const mountedApp = app.mount('#app')
      P.getPokemonsList(interval).then(function(response){ //récupération des infos pokémons
          return response.results.slice()
        }).then(function(response){
        mountedApp.pokemons = response.slice()
      })
    </script>
  </body>
</html>